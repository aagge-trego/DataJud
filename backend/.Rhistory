dir()
dir('01 dados brutos')
#tabelas =======================================================================
assuntos = read.csv('01 dados brutos/assuntos.csv', header = T)
head(assuntos)
#configuracoes =================================================================
rm(list = ls())
#===============================================================================
#tabelas =======================================================================
assuntos = read.csv('01 dados brutos/assuntos.csv', header = T)
complementos = read.csv('01 dados brutos/complementos.csv', header = T)
processos = read.csv('01 dados brutos/processos.csv', header = T)
movimentos = read.csv('01 dados brutos/movimentos.csv', header = T)
#===============================================================================
assuntos_cnj = read.csv('01 dados brutos/assuntos-cnj.csv', header = T)
classes_cnj = read.csv('01 dados brutos/classes-cnj.csv', header = T)
movimentos_cnj = read.csv('01 dados brutos/movimentos-cnj.csv', header = T)
#===============================================================================
head(assuntos_cnj)
head(processos)
nrow(processos)
length(unique(processos['nr_unico']))
processos['nr_unico']
length(unique(processos[['nr_unico']]))
nrow(processos)
colnames(processos)
t(colnames(processos))
data.frame(x = colnames(processos)
data.frame(x = colnames(processos))
data.frame(x = colnames(processos))
data.frame(x = colnames(processos))
with(processos, paste0(nr_unico, cod_classe_cnj, id_orgao_julgador_origem, grau))
length(unique(processos$id))
nrow(processos)
length(unique(processos$id))
length(
unique(
with(processos, paste0(nr_unico, cod_classe_cnj, id_orgao_julgador_origem, grau))
)
)
processos = transform(processos, chave = paste0(nr_unico, '-',
cod_classe_cnj, '-',
id_orgao_julgador_origem, '-',
grau))
head(processos)
processos[4,]
processos[4,]['nr_unico']
substr(processos[4,]['nr_unico'], 1,1)
#configuracoes =================================================================
rm(list = ls())
#===============================================================================
#tabelas =======================================================================
assuntos = read.csv('01 dados brutos/assuntos.csv', header = T)
complementos = read.csv('01 dados brutos/complementos.csv', header = T)
processos = read.csv('01 dados brutos/processos.csv', header = T)
movimentos = read.csv('01 dados brutos/movimentos.csv', header = T)
assuntos_cnj = read.csv('01 dados brutos/assuntos-cnj.csv', header = T)
classes_cnj = read.csv('01 dados brutos/classes-cnj.csv', header = T)
movimentos_cnj = read.csv('01 dados brutos/movimentos-cnj.csv', header = T)
#===============================================================================
head(classes_cnj)
head(
subset(classes_cnj, folha = 1)
)
head(
subset(classes_cnj, folha == 1)
)
dat = merge(processos,
subset(classes_cnj, folha == 1),
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
head(dat)
colnames(dat)
dat = subset(classes_cnj, folha == 1)
head(dat)
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
subset(classes_cnj, folha == 1),
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
table(dat$cnj)
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all = T)
table(dat$cnj)
processos['cod_classe_cnj']
is.na(processos['cod_classe_cnj'])
table(
is.na(processos['cod_classe_cnj'])
)
table(
is.na(dat['cod_classe_cnj'])
)
head(dat[is.na(dat['cod_classe_cnj'],])
head(dat[is.na(dat['cod_classe_cnj']),])
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all = T)
table(dat$cnj)
dat['cnj']
table(dat['cnj'])
dat$cnj
str(dat)
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
str(dat)
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all = T)
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
dat
head(processos)
head(dat)
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
head(dat)
head(processos)
datAux = head(dat)
datAux
datAux = head(dat[,c('cod', 'descricao', 'cnj')])
datAux
datAux = head(dat[,c('cod', 'descricao', 'cnj')])
datAux
head(processos)
datAux = head(dat[,c('cod', 'descricao', 'cnj')])
processosAux = processos[,c('nr_unico', 'cod_classe_cnj')]
datAux = merge(processos,
processosAux,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
datAux
datAux = head(dat[,c('cod', 'descricao', 'cnj')])
processosAux = head(processos[,c('nr_unico', 'cod_classe_cnj')])
datAux
processosAux
datAux = merge(processos,
processosAux,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
datAux = head(dat[,c('cod', 'descricao', 'cnj')])
processosAux = head(processos[,c('nr_unico', 'cod_classe_cnj')])
datAux = merge(processos,
datAux,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
datAux = merge(processosAux,
datAux,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
datAux
datAux = head(dat[,c('cod', 'descricao', 'cnj')])
processosAux = head(processos[,c('nr_unico', 'cod_classe_cnj')])
datAux = merge(processosAux,
datAux,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
datAux
datAux = head(dat[,c('cod', 'descricao', 'cnj')])
processosAux = head(processos[,c('nr_unico', 'cod_classe_cnj')])
datAux
processosAux
datAux = dat[,c('cod', 'descricao', 'cnj')]
processosAux = head(processos[,c('nr_unico', 'cod_classe_cnj')])
datAux = merge(processosAux,
datAux,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
datAux
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
datAux = dat[,c('cod', 'descricao', 'cnj')]
processosAux = head(processos[,c('nr_unico', 'cod_classe_cnj')])
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
head(dat)
dat$cnj
is.na(dat$cnj)
table(is.na(dat$cnj))
head(subset(dat, is.na(cnj)))
head(subset(dat, !is.na(cnj)))
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
head(subset(dat, !is.na(cnj)))
#tabelas =======================================================================
assuntos = read.csv('01 dados brutos/assuntos.csv', header = T, encoding = 'latin')
head(assuntos)
#configuracoes =================================================================
rm(list = ls())
#===============================================================================
#tabelas =======================================================================
assuntos = read.csv('01 dados brutos/assuntos.csv',
header = T, encoding = 'latin')
complementos = read.csv('01 dados brutos/complementos.csv',
header = T, encoding = 'latin')
processos = read.csv('01 dados brutos/processos.csv',
header = T, encoding = 'latin')
movimentos = read.csv('01 dados brutos/movimentos.csv',
header = T, encoding = 'latin')
assuntos_cnj = read.csv('01 dados brutos/assuntos-cnj.csv',
header = T, encoding = 'latin')
classes_cnj = read.csv('01 dados brutos/classes-cnj.csv',
header = T, encoding = 'latin')
movimentos_cnj = read.csv('01 dados brutos/movimentos-cnj.csv',
header = T, encoding = 'latin')
#===============================================================================
#regra 1 (classes) =============================================================
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
head(subset(dat, is.na(cnj)))
#===============================================================================
#configuracoes =================================================================
rm(list = ls())
#===============================================================================
#tabelas =======================================================================
assuntos = read.csv('01 dados brutos/assuntos.csv',
header = T,
encoding = 'latin1')
complementos = read.csv('01 dados brutos/complementos.csv',
header = T,
encoding = 'latin1')
processos = read.csv('01 dados brutos/processos.csv',
header = T,
encoding = 'latin1')
movimentos = read.csv('01 dados brutos/movimentos.csv',
header = T,
encoding = 'latin1')
assuntos_cnj = read.csv('01 dados brutos/assuntos-cnj.csv',
header = T,
encoding = 'latin1')
classes_cnj = read.csv('01 dados brutos/classes-cnj.csv',
header = T,
encoding = 'latin1')
movimentos_cnj = read.csv('01 dados brutos/movimentos-cnj.csv',
header = T,
encoding = 'latin1')
#===============================================================================
#regra 1 (classes) =============================================================
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
head(subset(dat, is.na(cnj)))
#===============================================================================
#configuracoes =================================================================
rm(list = ls())
#===============================================================================
#tabelas =======================================================================
assuntos = read.csv('01 dados brutos/assuntos.csv',
header = T,
encoding = 'UTF-8')
complementos = read.csv('01 dados brutos/complementos.csv',
header = T,
encoding = 'UTF-8')
processos = read.csv('01 dados brutos/processos.csv',
header = T,
encoding = 'UTF-8')
movimentos = read.csv('01 dados brutos/movimentos.csv',
header = T,
encoding = 'UTF-8')
assuntos_cnj = read.csv('01 dados brutos/assuntos-cnj.csv',
header = T,
encoding = 'UTF-8')
classes_cnj = read.csv('01 dados brutos/classes-cnj.csv',
header = T,
encoding = 'UTF-8')
movimentos_cnj = read.csv('01 dados brutos/movimentos-cnj.csv',
header = T,
encoding = 'UTF-8')
#===============================================================================
#regra 1 (classes) =============================================================
dat = subset(classes_cnj, folha == 1)
dat['cnj'] = 1
dat = merge(processos,
dat,
by.x = 'cod_classe_cnj',
by.y = 'cod',
all.x = T)
head(subset(dat, is.na(cnj)))
#===============================================================================
